{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{111:function(e,t){!function(){const e=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,\"Vaadin Date Picker\",\"vaadin-date-picker-flow\")};class t{constructor(e){this.initial=e,this.index=0,this.value=0}static compare(e,t){return e.index<t.index?-1:e.index>t.index?1:0}}window.Vaadin.Flow.datepickerConnector={initLazy:n=>e((function(n){if(n.$connector)return;n.$connector={},n.$connector.dayPart=new t(\"22\"),n.$connector.monthPart=new t(\"11\"),n.$connector.yearPart=new t(\"1987\"),n.$connector.parts=[n.$connector.dayPart,n.$connector.monthPart,n.$connector.yearPart];let i=\"en-us\";n.addEventListener(\"blur\",e(e=>{!e.target.value&&e.target.invalid&&console.warn(\"Invalid value in the DatePicker.\")}));const r=e((function(e){return e.replace(/[^\\x00-\\x7F]/g,\"\")})),o=e((function(){let e=\"\";try{e=n._inputValue}catch(t){e=n.value||\"\"}return e}));n.$connector.setLocale=e((function(a){try{(new Date).toLocaleDateString(a)}catch(e){a=\"en-US\",console.warn(\"The locale is not supported, using default locale setting(en-US).\")}let c=!1,l=o();\"undefined\"!==n.i18n.parseDate&&l&&(c=n.i18n.parseDate(l));let s=new Date(Date.UTC(n.$connector.yearPart.initial,n.$connector.monthPart.initial-1,n.$connector.dayPart.initial)),d=r(s.toLocaleDateString(a,{timeZone:\"UTC\"}));n.$connector.parts.forEach((function(e){e.index=d.indexOf(e.initial)})),n.$connector.parts.sort(t.compare),n.$connector.regex=d.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\").replace(n.$connector.dayPart.initial,\"(\\\\d{1,2})\").replace(n.$connector.monthPart.initial,\"(\\\\d{1,2})\").replace(n.$connector.yearPart.initial,\"(\\\\d{1,4})\"),n.i18n.formatDate=e((function(e){let t=n._parseDate(`${e.year}-${e.month+1}-${e.day}`);return t.setHours(12),r(t.toLocaleDateString(a))})),n.i18n.parseDate=e((function(e){if(0==(e=r(e)).length)return;let t=e.match(n.$connector.regex);if(t&&4==t.length){for(let e=1;e<4;e++)n.$connector.parts[e-1].value=parseInt(t[e]);return{day:n.$connector.dayPart.value,month:n.$connector.monthPart.value-1,year:n.$connector.yearPart.value}}return!1})),\"\"===l?i=a:c&&(n._selectedDate=n._parseDate(`${c.year}-${c.month+1}-${c.day}`))}))}))(n)}}()},112:function(e,t){window.Vaadin=window.Vaadin||{},window.Vaadin.Flow=window.Vaadin.Flow||{},window.Vaadin.Flow.dndConnector={__ondragenterListener:function(e){const t=e.currentTarget.__dropEffect;e.currentTarget.hasAttribute(\"disabled\")||(t&&(e.dataTransfer.dropEffect=t),t&&\"none\"!==t&&(e.currentTarget.classList.contains(\"v-drag-over-target\")?e.currentTarget[\"__skip-leave\"]=!0:e.currentTarget.classList.add(\"v-drag-over-target\"),e.preventDefault(),e.stopPropagation()))},__ondragoverListener:function(e){if(!e.currentTarget.hasAttribute(\"disabled\")){const t=e.currentTarget.__dropEffect;t&&(e.dataTransfer.dropEffect=t),e.preventDefault(),e.stopPropagation()}},__ondragleaveListener:function(e){e.currentTarget[\"__skip-leave\"]?e.currentTarget[\"__skip-leave\"]=!1:e.currentTarget.classList.remove(\"v-drag-over-target\"),e.stopPropagation()},__ondropListener:function(e){const t=e.currentTarget.__dropEffect;t&&(e.dataTransfer.dropEffect=t),e.currentTarget.classList.remove(\"v-drag-over-target\"),e.preventDefault(),e.stopPropagation()},updateDropTarget:function(e){e.__active?(e.addEventListener(\"dragenter\",this.__ondragenterListener,!1),e.addEventListener(\"dragover\",this.__ondragoverListener,!1),e.addEventListener(\"dragleave\",this.__ondragleaveListener,!1),e.addEventListener(\"drop\",this.__ondropListener,!1)):(e.removeEventListener(\"dragenter\",this.__ondragenterListener,!1),e.removeEventListener(\"dragover\",this.__ondragoverListener,!1),e.removeEventListener(\"dragleave\",this.__ondragleaveListener,!1),e.removeEventListener(\"drop\",this.__ondropListener,!1),e.classList.remove(\"v-drag-over-target\"))},__dragstartListener:function(e){e.stopPropagation(),e.dataTransfer.setData(\"text/plain\",\"\"),e.currentTarget.hasAttribute(\"disabled\")?e.preventDefault():(e.currentTarget.__effectAllowed&&(e.dataTransfer.effectAllowed=e.currentTarget.__effectAllowed),e.currentTarget.classList.add(\"v-dragged\"))},__dragendListener:function(e){e.currentTarget.classList.remove(\"v-dragged\")},updateDragSource:function(e){e.draggable?(e.addEventListener(\"dragstart\",this.__dragstartListener,!1),e.addEventListener(\"dragend\",this.__dragendListener,!1)):(e.removeEventListener(\"dragstart\",this.__dragstartListener,!1),e.removeEventListener(\"dragend\",this.__dragendListener,!1))}}},113:function(e,t){!function(){const e=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,\"Vaadin Select\",\"vaadin-select-flow\")};window.Vaadin.Flow.selectConnector={initLazy:t=>e((function(t){const n=e((function(){for(let e=0;e<t.childElementCount;e++){const n=t.children[e];if(\"VAADIN-LIST-BOX\"===n.tagName.toUpperCase())return n}}));t.$connector||(t.$connector={},t.renderer=e((function(e){const t=n();t&&(e.firstChild&&e.removeChild(e.firstChild),e.appendChild(t))})))}))(t)}}()},114:function(e,t){!function(){const e=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,\"Vaadin Time Picker\",\"vaadin-time-picker-flow\")};window.Vaadin.Flow.timepickerConnector={initLazy:t=>e((function(t){if(t.$connector)return;t.$connector={};const n=function(e,t){const n=t.toLocaleTimeString(e);let i=n.match(/[^\\d\\u0660-\\u0669]+$/g);return i||(i=n.match(/^[^\\d\\u0660-\\u0669]+/g)),i&&(i=i[0].trim()),i},i=new Date(\"August 19, 1975 23:15:30\"),r=new Date(\"August 19, 1975 05:15:30\"),o={\"\\\\u0660\":\"0\",\"\\\\u0661\":\"1\",\"\\\\u0662\":\"2\",\"\\\\u0663\":\"3\",\"\\\\u0664\":\"4\",\"\\\\u0665\":\"5\",\"\\\\u0666\":\"6\",\"\\\\u0667\":\"7\",\"\\\\u0668\":\"8\",\"\\\\u0669\":\"9\"},a=function(e){return e.replace(/[\\u0660-\\u0669]/g,(function(e){const t=\"\\\\u0\"+e.charCodeAt(0).toString(16);return o[t]}))},c=function(e){return parseInt(a(e))},l=/[[\\.][\\d\\u0660-\\u0669]{1,3}$/;t.$connector.setLocale=e((function(o){let s;t.value&&\"\"!==t.value&&(s=t.i18n.parseTime(t.value));try{i.toLocaleTimeString(o)}catch(e){throw o=\"en-US\",new Error(\"vaadin-time-picker: The locale \"+o+\" is not supported, falling back to default locale setting(en-US).\")}const d=function(e){return n(e,i)}(o),u=function(e){return n(e,r)}(o);let h=i.toLocaleTimeString(o);d&&h.startsWith(d)&&(h=h.replace(d,\"\"));const f=h.match(/[^\\u0660-\\u0669\\s\\d]/),p=new RegExp(\"([\\\\d\\\\u0660-\\\\u0669]){1,2}(?:\"+f+\")?\",\"g\"),m=function(){return t.step&&t.step<1};let g,v;let _,y;t.i18n={formatTime:e((function(e){if(e){let n=new Date;n.setHours(e.hours),n.setMinutes(e.minutes),n.setSeconds(void 0!==e.seconds?e.seconds:0);let i=n.toLocaleTimeString(o,(v&&g===t.step||(v={hour:\"numeric\",minute:\"numeric\",second:t.step&&t.step<60?\"numeric\":void 0},g=t.step),v));return i=function(e,t){if(m()){let n=e;if(e.endsWith(u)?n=e.replace(\" \"+u,\"\"):e.endsWith(d)&&(n=e.replace(\" \"+d,\"\")),t){let e=t<10?\"0\":\"\";e+=t<100?\"0\":\"\",e+=t,n+=\".\"+e}else n+=\".000\";return e.endsWith(u)?n=n+\" \"+u:e.endsWith(d)&&(n=n+\" \"+d),n}return e}(i,e.milliseconds),i}})),parseTime:e((function(e){if(e&&e===_&&y)return y;if(e){const n=e.search(d),i=e.search(u);let r=e.replace(u,\"\").replace(d,\"\").trim();p.lastIndex=0;let o=p.exec(r);if(o){o=c(o[0].replace(f,\"\")),n!==i&&(12===o&&-1!==i?o=0:o+=-1!==n&&12!==o?12:0);const s=p.exec(r),d=s&&p.exec(r);let u=d&&m()&&l.exec(r);return u&&u.index<=d.index&&(u=void 0),y=void 0!==o&&{hours:o,minutes:s?c(s[0].replace(f,\"\")):0,seconds:d?c(d[0].replace(f,\"\")):0,milliseconds:s&&d&&u?(t=u[0].replace(\".\",\"\"),1===(t=a(t)).length?t+=\"00\":2===t.length&&(t+=\"0\"),parseInt(t)):0},_=e,y}}var t}))},s&&function e(t,n,i=0){t()?n():setTimeout(()=>e(t,n,200),i)}(()=>t.shadowRoot,()=>{const e=t.i18n.formatTime(s);t.__inputElement.value!==e&&(t.__inputElement.value=e,t.__dropdownElement.value=e,t.__onInputChange())})}))}))(t)}}()},115:function(e,t){!function(){let e;customElements.whenDefined(\"vaadin-text-field\").then(()=>{class t extends(customElements.get(\"vaadin-text-field\")){static get template(){return e||(e=super.template.cloneNode(!0),e.innerHTML+='<style>\\n                  :host {\\n                    width: 8em;\\n                  }\\n\\n                  :host([dir=\"rtl\"]) [part=\"input-field\"] {\\n                    direction: ltr;\\n                  }\\n\\n                  :host([dir=\"rtl\"]) [part=\"value\"]::placeholder {\\n                    direction: rtl;\\n                  }\\n\\n                  :host([dir=\"rtl\"]) [part=\"input-field\"] ::slotted(input)::placeholder {\\n                    direction: rtl;\\n                  }\\n\\n                  :host([dir=\"rtl\"]) [part=\"value\"]:-ms-input-placeholder,\\n                  :host([dir=\"rtl\"]) [part=\"input-field\"] ::slotted(input):-ms-input-placeholder {\\n                    direction: rtl;\\n                  }\\n\\n                  :host([dir=\"rtl\"]:not([has-controls])) [part=\"value\"]::placeholder {\\n                    text-align: left;\\n                  }\\n\\n                  :host([dir=\"rtl\"]:not([has-controls])) [part=\"input-field\"] ::slotted(input)::placeholder {\\n                    text-align: left;\\n                  }\\n\\n                  :host([dir=\"rtl\"]:not([has-controls])) [part=\"value\"]:-ms-input-placeholder,\\n                  :host([dir=\"rtl\"]:not([has-controls])) [part=\"input-field\"] ::slotted(input):-ms-input-placeholder {\\n                    text-align: left;\\n                  }\\n\\n                  :host([dir=\"rtl\"]) [part=\"value\"],\\n                  :host([dir=\"rtl\"]) [part=\"input-field\"] ::slotted(input) {\\n                    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em) !important;\\n                  }\\n            </style>'),e}static get is(){return\"vaadin-big-decimal-field\"}static get properties(){return{_decimalSeparator:{type:String,value:\".\",observer:\"__decimalSeparatorChanged\"}}}ready(){super.ready(),this.inputElement.setAttribute(\"inputmode\",\"decimal\")}__decimalSeparatorChanged(e,t){this._enabledCharPattern=\"[\\\\d-+\"+e+\"]\",this.value&&t&&(this.value=this.value.split(t).join(e))}}customElements.define(t.is,t)})}()},135:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"addCssBlock\",(function(){return f}));var i=n(3),r=n(2),o=n(39);!function(){const e=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,\"Vaadin Combo Box\",\"vaadin-combo-box-flow\")};window.Vaadin.Flow.comboBoxConnector={initLazy:t=>e((function(t){if(t.$connector)return;t.$connector={};const n={};let o={},a=\"\";const c=new Vaadin.ComboBoxPlaceholder,l=Math.max(2*t.pageSize,500),s=(()=>{let e=\"\",n=!1;return{needsDataCommunicatorReset:()=>n=!0,getLastFilterSentToServer:()=>e,requestData:(i,r,o)=>{const a=r-i,c=o.filter;t.$server.setRequestedRange(i,a,c),e=c,n&&(t.$server.resetDataCommunicator(),n=!1)}}})(),d=(e=Object.keys(n))=>{e.forEach(e=>{n[e]([],t.size),delete n[e];const i=parseInt(e)*t.pageSize,r=i+t.pageSize,o=Math.min(r,t.filteredItems.length);for(let e=i;e<o;e++)t.filteredItems[e]=c})};t.dataProvider=function(e,c){if(e.pageSize!=t.pageSize)throw\"Invalid pageSize\";if(t._clientSideFilter){if(o[0])return void g(o[0],c);e.filter=\"\"}if(e.filter!==a)return o={},a=e.filter,void(this._debouncer=i.a.debounce(this._debouncer,r.d.after(500),()=>{if(s.getLastFilterSentToServer()===e.filter&&s.needsDataCommunicatorReset(),e.filter!==a)throw new Error(\"Expected params.filter to be '\"+a+\"' but was '\"+e.filter+\"'\");d(),t.dataProvider(e,c)}));if(o[e.page])m(e.page,c);else{n[e.page]=c;const o=Object.keys(n).map(e=>parseInt(e)),a=Math.min(...o),u=Math.max(...o);if(o.length*e.pageSize>l)e.page===a?d([String(u)]):d([String(a)]),t.dataProvider(e,c);else if(u-a+1!==o.length)d();else{const t=e.pageSize*a,n=e.pageSize*(u+1);this._debouncer&&this._debouncer.isActive()?this._debouncer=i.a.debounce(this._debouncer,r.d.after(200),()=>s.requestData(t,n,e)):s.requestData(t,n,e)}}},t.$connector.filter=e((function(e,n){return n=n?n.toString().toLowerCase():\"\",t._getItemLabel(e).toString().toLowerCase().indexOf(n)>-1})),t.$connector.set=e((function(e,i,r){if(r!=s.getLastFilterSentToServer())return;if(e%t.pageSize!=0)throw\"Got new data to index \"+e+\" which is not aligned with the page size of \"+t.pageSize;if(0===e&&0===i.length&&n[0])return void(o[0]=[]);const a=e/t.pageSize,c=Math.ceil(i.length/t.pageSize);for(let e=0;e<c;e++){let n=a+e,r=i.slice(e*t.pageSize,(e+1)*t.pageSize);o[n]=r}})),t.$connector.updateData=e((function(e){for(let n=0;n<e.length;n++){let i=e[n];for(let e=0;e<t.filteredItems.length;e++)if(t.filteredItems[e].key===i.key){t.set(\"filteredItems.\"+e,i);break}}})),t.$connector.updateSize=e((function(e){t._clientSideFilter||(t.size=e)})),t.$connector.reset=e((function(){d(),o={},t.clearCache()})),t.$connector.confirm=e((function(e,i){if(i!=s.getLastFilterSentToServer())return;let r=Object.getOwnPropertyNames(n);for(let e=0;e<r.length;e++){let t=r[e];o[t]&&m(t,n[t])}t.$server.confirmUpdate(e)})),customElements.whenDefined(\"vaadin-combo-box\").then(e(()=>{const e=t.$.overlay._isItemSelected;t.$.overlay._isItemSelected=(n,i,r)=>{let o=e.call(t,n,i,r);return t._selectedKey&&(t.filteredItems.indexOf(i)>-1?delete t._selectedKey:o=o||n.key===t._selectedKey),o}})),t.$connector.enableClientValidation=e((function(e){let n=null;t.$&&(n=t.$.input),n?(e?(p(t),f(n)):(u(t),h(n,t)),t.validate()):setTimeout((function(){t.$connector.enableClientValidation(e)}),10)}));const u=e((function(e){void 0===e.$checkValidity&&(e.$checkValidity=e.checkValidity,e.checkValidity=function(){return!t.invalid}),void 0===e.$validate&&(e.$validate=e.validate,e.validate=function(){return!(t.focusElement.invalid=t.invalid)})})),h=e((function(e,t){void 0===e.$checkValidity&&(e.$checkValidity=e.checkValidity,e.checkValidity=function(){return!t.invalid})})),f=e((function(e){e.$checkValidity&&(e.checkValidity=e.$checkValidity,delete e.$checkValidity)})),p=e((function(e){e.$checkValidity&&(e.checkValidity=e.$checkValidity,delete e.$checkValidity),e.$validate&&(e.validate=e.$validate,delete e.$validate)})),m=e((function(e,n){let i=o[e];t._clientSideFilter?g(i,n):(delete o[e],n(i,t.size))})),g=e((function(e,n){let i=e;t.filter&&(i=e.filter(e=>t.$connector.filter(e,t.filter))),n(i,i.length)}));t.addEventListener(\"opened-changed\",e(e=>{e.detail.value&&(t.$.overlay._selector._manageFocus=()=>{})})),t.addEventListener(\"custom-value-set\",e(e=>e.preventDefault()))}))(t)}}(),window.Vaadin.ComboBoxPlaceholder=o.a;n(18);var a=n(10);!function(){const e=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,\"Vaadin Context Menu\",\"vaadin-context-menu-flow\")};window.Vaadin.Flow.contextMenuConnector={init:t=>e((function(t){t.$contextMenuConnector||(t.$contextMenuConnector={openOnHandler:e((function(e){e.preventDefault(),e.stopPropagation(),this.$contextMenuConnector.openEvent=e;let n={};t.getContextMenuBeforeOpenDetail&&(n=t.getContextMenuBeforeOpenDetail(e)),t.dispatchEvent(new CustomEvent(\"vaadin-context-menu-before-open\",{detail:n}))})),updateOpenOn:e((function(n){this.removeListener(),this.openOnEventType=n,customElements.whenDefined(\"vaadin-context-menu\").then(e(()=>{a.b[n]?a.a(t,n,this.openOnHandler):t.addEventListener(n,this.openOnHandler)}))})),removeListener:e((function(){this.openOnEventType&&(a.b[this.openOnEventType]?a.e(t,this.openOnEventType,this.openOnHandler):t.removeEventListener(this.openOnEventType,this.openOnHandler))})),openMenu:e((function(e){e.open(this.openEvent)})),removeConnector:e((function(){this.removeListener(),t.$contextMenuConnector=void 0}))})}))(t),generateItems:(t,n,i)=>e((function(e,t,n){e._containerNodeId=n;const i=function(e){const n=function(e){try{return window.Vaadin.Flow.clients[t].getByNodeId(e)}catch(n){console.error(\"Could not get node %s from app %s\",e,t),console.error(n)}}(e._containerNodeId);return n&&Array.from(n.children).map(e=>{const t={component:e,checked:e._checked};return\"VAADIN-CONTEXT-MENU-ITEM\"==e.tagName&&e._containerNodeId&&(t.children=i(e)),e._item=t,t})},r=i(e);e.items=r}))(t,n,i),setChecked:(t,n)=>e((function(e,t){e._item&&(e._item.checked=t)}))(t,n)}}();n(111),n(112),n(17);var c=n(0),l=n(1);class s extends l.a{static get template(){return c.a`\n    <slot></slot>\n`}static get is(){return\"flow-component-renderer\"}static get properties(){return{nodeid:Number,appid:String}}static get observers(){return[\"_attachRenderedComponentIfAble(appid, nodeid)\"]}connectedCallback(){super.connectedCallback(),this._runChrome72ShadowDomBugWorkaround()}_runChrome72ShadowDomBugWorkaround(){const e=navigator.userAgent;if(e&&e.match(\"Chrome/\")){const t=e.split(\"Chrome/\")[1].split(\".\")[0];if(t&&parseInt(t)>71){const e=this._getDebouncedNotifyResizeFunction();e&&(this.style.visibility=\"hidden\",requestAnimationFrame(()=>{this.style.visibility=\"\",e()}))}}}_getDebouncedNotifyResizeFunction(){let e=this.parentElement;for(;;){if(!e)return;if(e.notifyResize)break;e=e.parentElement}return e._debouncedNotifyResize||(e._debouncedNotifyResize=function(){e.__debouncedNotifyResize=i.a.debounce(e.__debouncedNotifyResize,r.a,e.notifyResize)}),e._debouncedNotifyResize}ready(){super.ready(),this.addEventListener(\"click\",(function(e){this.firstChild&&\"function\"==typeof this.firstChild.click&&e.target===this&&this.firstChild.click()}))}_asyncAttachRenderedComponentIfAble(){this._debouncer=i.a.debounce(this._debouncer,r.b,()=>this._attachRenderedComponentIfAble())}_attachRenderedComponentIfAble(){if(!this.nodeid||!this.appid)return;const e=this._getRenderedComponent();this.firstChild?e?this.firstChild!==e?(this.replaceChild(e,this.firstChild),this._defineFocusTarget(),this.onComponentRendered()):(this._defineFocusTarget(),this.onComponentRendered()):(this._clear(),this._asyncAttachRenderedComponentIfAble()):e?(this.appendChild(e),this._defineFocusTarget(),this.onComponentRendered()):this._asyncAttachRenderedComponentIfAble()}_getRenderedComponent(){try{return window.Vaadin.Flow.clients[this.appid].getByNodeId(this.nodeid)}catch(e){console.error(\"Could not get node %s from app %s\",this.nodeid,this.appid),console.error(e)}return null}_clear(){for(;this.firstChild;)this.removeChild(this.firstChild)}onComponentRendered(){}_defineFocusTarget(){var e=this._getFirstFocusableDescendant(this.firstChild);null!==e&&e.setAttribute(\"focus-target\",\"true\")}_getFirstFocusableDescendant(e){if(this._isFocusable(e))return e;if(!e.children)return null;for(var t=0;t<e.children.length;t++){var n=this._getFirstFocusableDescendant(e.children[t]);if(null!==n)return n}return null}_isFocusable(e){return(!e.hasAttribute||\"function\"!=typeof e.hasAttribute||!e.hasAttribute(\"disabled\")&&!e.hasAttribute(\"hidden\"))&&0===e.tabIndex}}window.customElements.define(s.is,s);var d=n(74),u=n(48);!function(){const e=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,\"Vaadin Grid\",\"vaadin-grid-flow\")};window.Vaadin.Flow.gridConnector={initLazy:t=>e((function(t){if(t.$connector)return;u.b.prototype.ensureSubCacheForScaledIndex=e((function(e){this.itemCaches[e]||(c?this.grid.$connector.beforeEnsureSubCacheForScaledIndex(this,e):this.doEnsureSubCacheForScaledIndex(e))})),u.b.prototype.doEnsureSubCacheForScaledIndex=e((function(e){if(!this.itemCaches[e]){const t=new u.b.prototype.constructor(this.grid,this,this.items[e]);t.itemkeyCaches={},this.itemkeyCaches||(this.itemkeyCaches={}),this.itemCaches[e]=t,this.itemkeyCaches[this.grid.getItemId(t.parentItem)]=t,this.grid._loadPage(0,t)}})),u.b.prototype.getCacheAndIndexByKey=e((function(e){for(let n in this.items)if(t.getItemId(this.items[n])===e)return{cache:this,scaledIndex:n};const n=Object.keys(this.itemkeyCaches);for(let t=0;t<n.length;t++){const i=n[t];let r=this.itemkeyCaches[i].getCacheAndIndexByKey(e);if(r)return r}})),u.b.prototype.getLevel=e((function(){let e=this,t=0;for(;e.parentCache;)e=e.parentCache,t++;return t}));const n={},o={},a={},c=!0;let l,s,h=[],f=[],p={};const m=\"null\";p[m]=[0,0];const g=[\"SINGLE\",\"NONE\",\"MULTI\"];let v={},_=\"SINGLE\",y=!0,b=!1;t.size=0,t.itemIdPath=\"key\",t.$connector={},t.$connector.hasEnsureSubCacheQueue=e((function(){return f.length>0})),t.$connector.hasParentRequestQueue=e((function(){return h.length>0})),t.$connector.beforeEnsureSubCacheForScaledIndex=e((function(e,n){f.push({cache:e,scaledIndex:n,itemkey:t.getItemId(e.items[n]),level:e.getLevel()}),f.sort((function(e,t){return e.scaledIndex-t.scaledIndex||e.level-t.level})),s||t.$connector.flushQueue(e=>s=e,()=>t.$connector.hasEnsureSubCacheQueue(),()=>t.$connector.flushEnsureSubCache(),e=>i.a.debounce(s,r.a,e))})),t.$connector.doSelection=e((function(e,n){\"NONE\"===_||!e.length||n&&t.hasAttribute(\"disabled\")||(\"SINGLE\"===_&&(t.selectedItems=[],v={}),t.selectedItems=t.selectedItems.concat(e),e.forEach(e=>{e&&(v[e.key]=e,n&&(e.selected=!0,t.$server.select(e.key)));const i=!t.activeItem||!e||e.key!=t.activeItem.key;!n&&\"SINGLE\"===_&&i&&(t.activeItem=e,t.$connector.activeItem=e)}))})),t.$connector.doDeselection=e((function(e,n){if(\"NONE\"===_||!e.length||n&&t.hasAttribute(\"disabled\"))return;const i=t.selectedItems.slice();for(;e.length;){const r=e.shift();for(let e=0;e<i.length;e++){const t=i[e];if(r&&r.key===t.key){i.splice(e,1);break}}r&&(delete v[r.key],n&&(delete r.selected,t.$server.deselect(r.key)))}t.selectedItems=i})),t.__activeItemChanged=e((function(e,n){\"SINGLE\"==_&&(e?v[e.key]||t.$connector.doSelection([e],!0):n&&v[n.key]&&(t.$connector.deselectAllowed?t.$connector.doDeselection([n],!0):t.activeItem=n))})),t._createPropertyObserver(\"activeItem\",\"__activeItemChanged\",!0),t.__activeItemChangedDetails=e((function(e,n){y&&(null==e&&void 0===n||(e&&!e.detailsOpened?t.$server.setDetailsVisible(e.key):t.$server.setDetailsVisible(null)))})),t._createPropertyObserver(\"activeItem\",\"__activeItemChangedDetails\",!0),t.$connector.setDetailsVisibleOnClick=e((function(e){y=e})),t.$connector._getPageIfSameLevel=e((function(e,n,i){let r=t._cache.getCacheAndIndex(n),o=r.cache.parentItem;return e!==(o?t.getItemId(o):m)?i:t._getPageForIndex(r.scaledIndex)})),t.$connector.getCacheByKey=e((function(e){let n=t._cache.getCacheAndIndexByKey(e);if(n)return n.cache})),t.$connector.flushQueue=e((function(e,n,i,r){n()?i()?e(r(()=>t.$connector.flushQueue(e,n,i,r))):t.$connector.flushQueue(e,n,i,r):e(void 0)})),t.$connector.flushEnsureSubCache=e((function(){let e=f.splice(0,1)[0],n=e.itemkey,i=t._virtualStart,r=t._virtualEnd,o=r-i,a=Math.max(0,i+t._vidxOffset-o),c=Math.min(r+t._vidxOffset+o,t._effectiveSize);for(let i=a;i<=c;i++){let r=t._cache.getItemForIndex(i);if(t.getItemId(r)===n){if(t._isExpanded(r))return e.cache.doEnsureSubCacheForScaledIndex(e.scaledIndex),!0;break}}return!1})),t.$connector.flushParentRequests=e((function(){let e=h.splice(0,20);return!!e.length&&(t.$server.setParentRequestedRanges(e),!0)})),t.$connector.beforeParentRequest=e((function(e,n,o){h.push({firstIndex:e,size:n,parentKey:o}),l||t.$connector.flushQueue(e=>l=e,()=>t.$connector.hasParentRequestQueue(),()=>t.$connector.flushParentRequests(),e=>i.a.debounce(l,r.d.after(20),e))})),t.$connector.fetchPage=e((function(e,n,i){let r=t._virtualStart,o=t._virtualEnd,a=o-r,c=Math.max(0,r+t._vidxOffset-a),l=Math.min(o+t._vidxOffset+a,t._effectiveSize),s=n,d=n;for(let e=c;e<=l;e++)s=Math.min(s,t.$connector._getPageIfSameLevel(i,e,s)),d=Math.max(d,t.$connector._getPageIfSameLevel(i,e,d));let u=Math.max(0,s),h=i!==m?d:Math.min(d,Math.floor(t.size/t.pageSize)),f=p[i];if(f||(f=[-1,-1]),f[0]!=u||f[1]!=h){f=[u,h],p[i]=f;let n=h-u+1;e(u*t.pageSize,n*t.pageSize)}})),t.dataProvider=e((function(e,i){if(e.pageSize!=t.pageSize)throw\"Invalid pageSize\";let r=e.page;if(e.parentItem){let n=t.getItemId(e.parentItem);o[n]||(o[n]={});let c=t.$connector.getCacheByKey(n),l=c&&c.itemkeyCaches?c.itemkeyCaches[n]:void 0;a[n]&&a[n][r]&&l?(r=Math.min(r,Math.floor(a[n].size/t.pageSize)),i(a[n][r],a[n].size)):o[n][r]=i,t.$connector.fetchPage((n,i)=>t.$connector.beforeParentRequest(n,i,e.parentItem.key),r,n)}else r=Math.min(r,Math.floor(t.size/t.pageSize)),a[m]&&a[m][r]?i(a[m][r]):n[r]=i,t.$connector.fetchPage((e,n)=>t.$server.setRequestedRange(e,n),r,m)}));const C=e((function(e,n){void 0===n||b||t.$server.sortersChanged(t._sorters.map((function(e){return{path:e.path,direction:e.direction}})))}));t.$connector.setSorterDirections=e((function(n){b=!0,setTimeout(e(()=>{try{const e=Array.from(t.querySelectorAll(\"vaadin-grid-sorter\"));e.forEach(e=>{n.filter(t=>t.column===e.getAttribute(\"path\"))[0]||(e.direction=null)}),n.reverse().forEach(({column:t,direction:n})=>{e.forEach(e=>{e.getAttribute(\"path\")===t&&e.direction!==n&&(e.direction=n)})})}finally{b=!1}}))})),t._createPropertyObserver(\"_previousSorters\",C),t._updateItem=e((function(e,n){d.a.prototype._updateItem.call(t,e,n),e.hidden||Array.from(e.children).forEach(e=>{e._instance&&e._instance.children&&Array.from(e._instance.children).forEach(e=>{e._attachRenderedComponentIfAble&&e._attachRenderedComponentIfAble(),e.children&&Array.from(e.children).forEach(e=>{e._attachRenderedComponentIfAble&&e._attachRenderedComponentIfAble()})})})})),t._expandedInstanceChangedCallback=e((function(e,n){if(null==e.item||null==t.$server.updateExpandedState)return;let i=t.getItemId(e.item);if(t.$server.updateExpandedState(i,n),n)this.expandItem(e.item);else{delete a[i];let n=t.$connector.getCacheByKey(i);n&&n.itemkeyCaches&&n.itemkeyCaches[i]&&delete n.itemkeyCaches[i],n&&n.itemkeyCaches&&Object.keys(n.itemCaches).filter(e=>n.items[e].key===i).forEach(e=>delete n.itemCaches[e]),delete p[i],this.collapseItem(e.item)}}));const w=function(e){if(!e||!Array.isArray(e))throw\"Attempted to call itemsUpdated with an invalid value: \"+JSON.stringify(e);let n=Array.from(t.detailsOpenedItems),i=!1;for(let r=0;r<e.length;++r){const o=e[r];o&&(o.detailsOpened?t._getItemIndexInArray(o,n)<0&&n.push(o):t._getItemIndexInArray(o,n)>=0&&n.splice(t._getItemIndexInArray(o,n),1),v[o.key]&&(v[o.key]=o,o.selected=!0,i=!0))}t.detailsOpenedItems=n,i&&(t.selectedItems=Object.keys(v).map((function(e){return v[e]})))},I=function(e,i){let r;if((i||m)!==m){r=a[i][e];let n=t.$connector.getCacheByKey(i);if(n&&n.itemkeyCaches){let t=n.itemkeyCaches[i];$(e,r,o[i][e],t)}}else r=a[m][e],$(e,r,n[e],t._cache);return r},$=function(e,n,i,r){if(!i){let i=e*t.pageSize,o=i+t.pageSize;if(n){if(r&&r.items)for(let e=i;e<o;e++)r.items[e]&&(r.items[e]=n[e-i])}else if(r&&r.items)for(let e=i;e<o;e++)delete r.items[e]}},S=function(){t._cache.updateSize(),t._effectiveSize=t._cache.effectiveSize,t._assignModels()},E=function(e){if(!e||!t._physicalItems)return;const n=e.map(e=>e.key),i=t._physicalItems.map((e,t)=>e._item&&e._item.key&&n.indexOf(e._item.key)>-1?t:null).filter(e=>null!==e);i.length>0&&t._assignModels(i)};t.$connector.set=e((function(e,n,i){if(e%t.pageSize!=0)throw\"Got new data to index \"+e+\" which is not aligned with the page size of \"+t.pageSize;let r=i||m;const o=e/t.pageSize,c=Math.ceil(n.length/t.pageSize);for(let e=0;e<c;e++){let i=o+e,c=n.slice(e*t.pageSize,(e+1)*t.pageSize);a[r]||(a[r]={}),a[r][i]=c,t.$connector.doSelection(c.filter(e=>e.selected&&!x(e))),t.$connector.doDeselection(c.filter(e=>!e.selected&&(v[e.key]||x(e))));const l=I(i,r);l&&(w(l),E(l))}}));const k=function(e){let n=e.parentUniqueKey||m;if(a[n])for(let i in a[n])for(let r in a[n][i])if(t.getItemId(a[n][i][r])===t.getItemId(e))return{page:i,index:r,parentKey:n};return null};t.$connector.updateHierarchicalData=e((function(e){let t=[];for(let n=0;n<e.length;n++){let i=k(e[n]);if(i){a[i.parentKey][i.page][i.index]=e[n];let r=i.parentKey+\":\"+i.page;t[r]||(t[r]={parentKey:i.parentKey,page:i.page})}}let n=Object.keys(t);for(let e=0;e<n.length;e++){let i=t[n[e]];const r=I(i.page,i.parentKey);r&&(w(r),E(r))}})),t.$connector.updateFlatData=e((function(e){for(let n=0;n<e.length;n++){let i=k(e[n]);if(i){a[i.parentKey][i.page][i.index]=e[n];const r=parseInt(i.page)*t.pageSize+parseInt(i.index);t._cache.items[r]&&(t._cache.items[r]=e[n])}}w(e),E(e)})),t.$connector.clearExpanded=e((function(){t.expandedItems=[],f=[],h=[]})),t.$connector.clear=e((function(e,n,i){let r=i||m;if(!a[r]||0===Object.keys(a[r]).length)return;if(e%t.pageSize!=0)throw\"Got cleared data for index \"+e+\" which is not aligned with the page size of \"+t.pageSize;let o=Math.floor(e/t.pageSize),c=Math.ceil(n/t.pageSize);for(let e=0;e<c;e++){let n=o+e,c=a[r][n];t.$connector.doDeselection(c.filter(e=>v[e.key])),delete a[r][n];const l=I(n,i);l&&w(l),E(c)}}));const x=function(e){const n=t.selectedItems;for(let t=0;t<n;t++){if(n[t].key===e.key)return!0}return!1};t.$connector.reset=e((function(){t.size=0,L(a),L(t._cache.items),L(p),s&&s.cancel(),l&&l.cancel(),s=void 0,l=void 0,f=[],h=[],S()}));const L=function(e){let t=Object.keys(e);for(let n=0;n<t.length;n++)delete e[t[n]]};t.$connector.updateSize=function(e){t.size=e},t.$connector.updateUniqueItemIdPath=function(e){t.itemIdPath=e},t.$connector.expandItems=e((function(e){let n=Array.from(t.expandedItems);e.filter(e=>!t._isExpanded(e)).forEach(e=>n.push(e)),t.expandedItems=n})),t.$connector.collapseItems=e((function(e){let n=Array.from(t.expandedItems);e.forEach(e=>{let i=t._getItemIndexInArray(e,n);i>=0&&n.splice(i,1)}),t.expandedItems=n,e.forEach(e=>t.$connector.removeFromQueue(e))})),t.$connector.removeFromQueue=e((function(e){let n=t.getItemId(e);delete o[n],t.$connector.removeFromArray(f,e=>e.itemkey===n),t.$connector.removeFromArray(h,e=>e.parentKey===n)})),t.$connector.removeFromArray=e((function(e,t){if(e.length)for(let n=e.length-1;n--;)t(e[n])&&e.splice(n,1)})),t.$connector.confirmParent=e((function(e,n,i){if(!o[n])return;a[n]&&(a[n].size=i);let r=Object.getOwnPropertyNames(o[n]);for(let e=0;e<r.length;e++){let t=r[e],c=p[n]||[0,0];if(a[n]&&a[n][t]||t<c[0]||t>c[1]){let e=o[n][t];delete o[n][t],e(a[n][t]||new Array(i),i)}}t.$server.confirmParentUpdate(e,n)})),t.$connector.confirm=e((function(e){let i=Object.getOwnPropertyNames(n);for(let e=0;e<i.length;e++){let r=i[e],o=p[m]||[0,0];if(a[m]&&a[m][r]||r<o[0]||r>o[1]){let e=n[r];delete n[r],e(a[m][r]||new Array(t.pageSize)),t._debounceIncreasePool&&t._debounceIncreasePool.flush()}}t.$server.confirmUpdate(e)})),t.$connector.ensureHierarchy=e((function(){for(let e in a)e!==m&&delete a[e];L(p),t._cache.itemCaches={},t._cache.itemkeyCaches={},S()})),t.$connector.setSelectionMode=e((function(e){if(!((\"string\"==typeof e||e instanceof String)&&g.indexOf(e)>=0))throw\"Attempted to set an invalid selection mode\";_=e,v={}})),t.$connector.deselectAllowed=!0,t.$connector.setVerticalScrollingEnabled=e((function(e){D(t.$.table,e),D(t.$.outerscroller,e),t.notifyResize()}));const D=function(t,n){t.style.overflowY=n?\"\":\"hidden\",t.removeEventListener(\"wheel\",t.__wheelListener),!n&&t.addEventListener(\"wheel\",t.__wheelListener=e(e=>{e.deltaX?Object.defineProperty(e,\"deltaY\",{value:0}):e.stopImmediatePropagation()}))};function A(e,n){if(t.$connector.activeItem){e.itemKey=t.$connector.activeItem.key;const i=t.getEventContext(e);i.column&&(e.internalColumnId=i.column._flowId),t.dispatchEvent(new CustomEvent(n,{detail:e}))}}t.addEventListener(\"vaadin-context-menu-before-open\",e((function(e){!function(e){const n=t.getEventContext(e),i=n.item&&n.item.key,r=n.column&&n.column.id;t.$server.updateContextMenuTargetItem(i,r)}(t.$contextMenuConnector.openEvent)}))),t.getContextMenuBeforeOpenDetail=e((function(e){const n=t.getEventContext(e);return{key:n.item&&n.item.key||\"\"}})),t.addEventListener(\"cell-activate\",e(e=>{t.$connector.activeItem=e.detail.model.item,setTimeout(()=>t.$connector.activeItem=void 0)})),t.addEventListener(\"click\",e(e=>A(e,\"item-click\"))),t.addEventListener(\"dblclick\",e(e=>A(e,\"item-double-click\"))),t.addEventListener(\"column-resize\",e(e=>{t._getColumnsInOrder().filter(e=>!e.hidden).forEach(e=>{e.dispatchEvent(new CustomEvent(\"column-drag-resize\"))}),t.dispatchEvent(new CustomEvent(\"column-drag-resize\",{detail:{resizedColumnKey:e.detail.resizedColumn._flowId}}))})),t.addEventListener(\"column-reorder\",e(e=>{const n=t._columnTree.slice(0).pop().filter(e=>e._flowId).sort((e,t)=>e._order-t._order).map(e=>e._flowId);t.dispatchEvent(new CustomEvent(\"column-reorder-all-columns\",{detail:{columns:n}}))})),t.cellClassNameGenerator=e((function(e,t){const n=t.item.style;if(n)return(n.row||\"\")+\" \"+(e&&n[e._flowId]||\"\")})),t.dropFilter=e(e=>!e.item.dropDisabled),t.dragFilter=e(e=>!e.item.dragDisabled),t.addEventListener(\"grid-dragstart\",e(e=>{t._isSelected(e.detail.draggedItems[0])?(t.__selectionDragData?Object.keys(t.__selectionDragData).forEach(n=>{e.detail.setDragData(n,t.__selectionDragData[n])}):(t.__dragDataTypes||[]).forEach(t=>{e.detail.setDragData(t,e.detail.draggedItems.map(e=>e.dragData[t]).join(\"\\n\"))}),t.__selectionDraggedItemsCount>1&&e.detail.setDraggedItemsCount(t.__selectionDraggedItemsCount)):(t.__dragDataTypes||[]).forEach(t=>{e.detail.setDragData(t,e.detail.draggedItems[0].dragData[t])})}))}))(t)}}();n(113),n(114),n(115),n(116);var h=n(47);{class e extends h.b{static get template(){return c.a`\n    <template class=\"header\" id=\"defaultHeaderTemplate\">\n      <vaadin-checkbox id=\"selectAllCheckbox\" aria-label=\"Select All\" hidden\\$=\"[[selectAllHidden]]\" on-click=\"_onSelectAllClick\" checked=\"[[selectAll]]\">\n      </vaadin-checkbox>\n    </template>\n    <template id=\"defaultBodyTemplate\">\n      <vaadin-checkbox aria-label=\"Select Row\" checked=\"[[selected]]\" on-click=\"_onSelectClick\">\n      </vaadin-checkbox>\n    </template>\n`}static get is(){return\"vaadin-grid-flow-selection-column\"}static get properties(){return{autoWidth:{type:Boolean,value:!0},width:{type:String,value:\"56px\"},flexGrow:{type:Number,value:0},selectAll:{type:Boolean,value:!1,notify:!0},selectAllHidden:Boolean}}constructor(){super(),this._boundOnSelectEvent=this._onSelectEvent.bind(this),this._boundOnDeselectEvent=this._onDeselectEvent.bind(this)}_prepareHeaderTemplate(){return this._prepareTemplatizer(this.$.defaultHeaderTemplate)}_prepareBodyTemplate(){return this._prepareTemplatizer(this.$.defaultBodyTemplate)}connectedCallback(){super.connectedCallback(),this._grid&&(this._grid.addEventListener(\"select\",this._boundOnSelectEvent),this._grid.addEventListener(\"deselect\",this._boundOnDeselectEvent))}disconnectedCallback(){if(super.disconnectedCallback(),this._grid){this._grid.removeEventListener(\"select\",this._boundOnSelectEvent),this._grid.removeEventListener(\"deselect\",this._boundOnDeselectEvent);if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&window.ShadyDOM&&this.parentElement){const e=this.parentElement,t=this.nextElementSibling;e.removeChild(this),t?e.insertBefore(this,t):e.appendChild(this)}}}_onSelectClick(e){e.target.checked?this._grid.$connector.doDeselection([e.model.item],!0):this._grid.$connector.doSelection([e.model.item],!0),e.target.checked=!e.target.checked}_onSelectAllClick(e){e.preventDefault(),this._grid.hasAttribute(\"disabled\")?e.target.checked=!e.target.checked:this.selectAll?this.$server.deselectAll():this.$server.selectAll()}_onSelectEvent(e){}_onDeselectEvent(e){e.detail.userOriginated&&(this.selectAll=!1)}}customElements.define(e.is,e),Vaadin.GridFlowSelectionColumnElement=e}n(86),n(120),n(71),n(121),n(108),n(96),n(117),n(118),n(131),n(88),n(122),n(132),n(56),n(73),n(16),n(133),n(22),n(13),n(19),n(27),n(123),n(124),n(125),n(126),n(119),n(127),n(99),n(128),n(129),n(134),n(100),n(102),n(130),n(41),n(97);const f=function(e,t=!1){const n=document.createElement(\"template\");n.innerHTML=e,document.head[t?\"insertBefore\":\"appendChild\"](n.content,document.head.firstChild)};let p;f('<custom-style><style include=\"lumo-color lumo-typography\"></style></custom-style>',!0),f(\"<custom-style><style>/*\\n   CSS styling examples for the Vaadin app.\\n   Visit https://vaadin.com/docs/flow/theme/theming-overview.html and\\n   https://vaadin.com/themes/lumo for more information.\\n*/\\n\\n/* Example: CSS class name to center align the content . */\\n.centered-content {\\n  margin: 0 auto;\\n  max-width: 250px;\\n}\\n\\n</style></custom-style>\"),f('<dom-module id=\"flow_css_mod_1\" theme-for=\"vaadin-text-field\"><template><style>/*\\n   CSS styling examples for the Vaadin app.\\n   Visit https://vaadin.com/docs/flow/theme/theming-overview.html and\\n   https://vaadin.com/themes/lumo for more information.\\n*/\\n\\n/* Example: border-only style for all Vaadin textfields . */\\n[part=\"input-field\"] {\\n    box-shadow: inset 0 0 0 1px var(--lumo-contrast-30pct);\\n    background-color: var(--lumo-base-color);\\n}\\n</style></template></dom-module>');const m=document.getElementsByTagName(\"script\");for(let e=0;e<m.length;e++){const t=m[e];if(\"module\"==t.getAttribute(\"type\")&&t.getAttribute(\"data-app-id\")&&!t[\"vaadin-bundle\"]){p=t;break}}if(!p)throw new Error(\"Could not find the bundle script to identify the application id\");p[\"vaadin-bundle\"]=!0,window.Vaadin.Flow.fallbacks||(window.Vaadin.Flow.fallbacks={});const g=window.Vaadin.Flow.fallbacks;g[p.getAttribute(\"data-app-id\")]={},g[p.getAttribute(\"data-app-id\")].loadFallback=function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,165))}}}]);","extractedComments":[]}